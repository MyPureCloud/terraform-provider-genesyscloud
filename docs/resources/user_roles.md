---
page_title: "genesyscloud_user_roles Resource - terraform-provider-genesyscloud"
subcategory: ""
description: |-
  Genesys Cloud User Roles maintains user role assignments.
  Terraform expects to manage the resources that are defined in its stack. You can use this resource to assign roles to existing users that are not managed by Terraform. However, one thing you have to remember is that when you use this resource to assign roles to existing users, you must define all roles assigned to those users in this resource. Otherwise, you will inadvertently drop all of the existing roles assigned to the user and replace them with the one defined in this resource. Keep this in mind, as the author of this note inadvertently stripped his Genesys admin account of administrator privileges while using this resource to assign a role to his account. The best lessons in life are often free and self-inflicted.
---
# genesyscloud_user_roles (Resource)

Genesys Cloud User Roles maintains user role assignments.

Terraform expects to manage the resources that are defined in its stack. You can use this resource to assign roles to existing users that are not managed by Terraform. However, one thing you have to remember is that when you use this resource to assign roles to existing users, you must define all roles assigned to those users in this resource. Otherwise, you will inadvertently drop all of the existing roles assigned to the user and replace them with the one defined in this resource. Keep this in mind, as the author of this note inadvertently stripped his Genesys admin account of administrator privileges while using this resource to assign a role to his account. The best lessons in life are often free and self-inflicted.

## API Usage
The following Genesys Cloud APIs are used by this resource. Ensure your OAuth Client has been granted the necessary scopes and permissions to perform these operations:

* [GET /api/v2/authorization/subjects/{subjectId}](https://developer.mypurecloud.com/api/rest/v2/authorization/#get-api-v2-authorization-subjects--subjectId-)
* [GET /api/v2/authorization/divisions/home](https://developer.mypurecloud.com/api/rest/v2/authorization/#get-api-v2-authorization-divisions-home)
* [POST /api/v2/authorization/subjects/{subjectId}/bulkadd](https://developer.mypurecloud.com/api/rest/v2/authorization/#post-api-v2-authorization-subjects--subjectId--bulkadd)
* [DELETE /api/v2/authorization/subjects/{subjectId}/divisions/{divisionId}/roles/{roleId}](https://developer.mypurecloud.com/api/rest/v2/authorization/#delete-api-v2-authorization-subjects--subjectId--divisions--divisionId--roles--roleId-)

## Example Usage

```terraform
resource "genesyscloud_user_roles" "example_user_roles" {
  user_id = genesyscloud_user.example_user.id
  roles {
    role_id      = genesyscloud_auth_role.simple_agent_role.id
    division_ids = [data.genesyscloud_auth_division_home.home.id, genesyscloud_auth_division.marketing.id]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `user_id` (String) User ID that will be managed by this resource. Changing the user_id attribute will cause the roles object to be dropped and recreated with a new ID.

### Optional

- `roles` (Block Set) Roles and their divisions assigned to this user. (see [below for nested schema](#nestedblock--roles))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--roles"></a>
### Nested Schema for `roles`

Required:

- `role_id` (String) Role ID.

Optional:

- `division_ids` (Set of String) Division IDs applied to this resource. If not set, the home division will be used. '*' may be set for all divisions.

