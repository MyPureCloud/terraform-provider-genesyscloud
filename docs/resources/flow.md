---
page_title: "genesyscloud_flow Resource - terraform-provider-genesyscloud"
subcategory: ""
description: |-
  Genesys Cloud Flow
---
# genesyscloud_flow (Resource)

Genesys Cloud Flow

## API Usage
The following Genesys Cloud APIs are used by this resource. Ensure your OAuth Client has been granted the necessary scopes and permissions to perform these operations:

* [POST /api/v2/flows/jobs](https://developer.mypurecloud.com/api/rest/v2/architect/#post-api-v2-flows-jobs)
* [GET /api/v2/flows](https://developer.genesys.cloud/api/rest/v2/architect/#get-api-v2-flows)
* [GET /api/v2/flows/{flowId}](https://developer.genesys.cloud/api/rest/v2/architect/#get-api-v2-flows--flowId-)
* [GET /api/v2/flows/jobs/{jobId}](https://developer.mypurecloud.com/api/rest/v2/architect/#get-api-v2-flows-jobs--jobId-)
* [DELETE /api/v2/flows/{flowId}](https://developer.genesys.cloud/api/rest/v2/architect/#delete-api-v2-flows--flowId-)

**NOTE: Version 1.7.0 and lower had a defect that could cause improper variable substitution and an inadvertent deployment of a flow during a terraform plan. Please use version 1.8.0 or higher of the CX as Code provider.  With the newer versions of CX as Code you must set the file_content_hash attribute. See the example below on how to do this.**

## Example Usage

```terraform
resource "genesyscloud_flow" "flow" {
  filepath          = "the flow configuration file path"
  file_content_hash = filesha256("the flow configuration file path")
  // Example flow configuration using substitutions:
  /*
  inboundCall:
    name: "{{flow_name}}"
    defaultLanguage: "{{default_language}}"
    startUpRef: ./menus/menu[mainMenu]
    initialGreeting:
      tts: "{{greeting}}"
    menus:
      - menu:
          name: Main Menu
          audio:
            tts: You are at the Main Menu, press 9 to disconnect.
          refId: mainMenu
          choices:
            - menuDisconnect:
                name: "{{menu_disconnect_name}}"
                dtmf: digit_9
  */
  // see https://developer.genesys.cloud/devapps/archy/flowAuthoring/lesson_07_substitutions
  // these replace the key-value pairs from the --optionsFile when using the archy CLI
  substitutions = {
    flow_name            = "An example flow"
    default_language     = "en-us"
    greeting             = "Hello World"
    menu_disconnect_name = "Disconnect"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `file_content_hash` (String) Hash value of the YAML file content. Used to detect changes.
- `filepath` (String) YAML file path for flow configuration. Note: Changing the flow name will result in the creation of a new flow with a new GUID, while the original flow will persist in your org.

### Optional

- `force_unlock` (Boolean) Will perform a force unlock on an architect flow before beginning the publication process.  NOTE: The force unlock publishes the 'draft'
				              architect flow and then publishes the flow named in this resource. This mirrors the behavior found in the archy CLI tool.
- `substitutions` (Map of String) A substitution is a key value pair where the key is the value you want to replace, and the value is the value to substitute in its place.

### Read-Only

- `id` (String) The ID of this resource.

